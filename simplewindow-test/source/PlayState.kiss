(import flixel.FlxState)
(import kiss_flixel.SimpleWindow)
(extends FlxState)

(method &override :Void create []
    (super.create)
    (showMenu)
    )

(method showMenu []
    (SimpleWindow.promptForChoice "Testing SimpleWindow" ["Vertical" "Menu" "Quit"]
        ->:Void choice 
            (case choice
                ("Vertical"
                    null)
                ("Menu"
                    (subMenu))
                ("Quit"
                    (Sys.exit 0))
                (never otherwise))))

(method subMenu []
    (.enableGamepadInput
        (SimpleWindow.promptForChoice "SubMenu" ["A" "B" "C" "{tab} Back"]
            ->:Void choice 
                (case choice
                    ("{tab} Back" (showMenu))
                    (never otherwise)))
        true
        null
        [=>B "tab"]))

(method &override :Void update [:Float elapsed]
    (super.update elapsed))